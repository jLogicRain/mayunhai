<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript | MaYunHai</title>
    <meta name="description" content="分享web前端相关的一些个人见解">
    <link rel="icon" href="/mayunhai/favicon.ico">
    
    <link rel="preload" href="/mayunhai/assets/css/0.styles.1a7abee2.css" as="style"><link rel="preload" href="/mayunhai/assets/js/app.cf507822.js" as="script"><link rel="preload" href="/mayunhai/assets/js/9.95c99d07.js" as="script"><link rel="prefetch" href="/mayunhai/assets/js/10.c9bc63c4.js"><link rel="prefetch" href="/mayunhai/assets/js/11.31a5076a.js"><link rel="prefetch" href="/mayunhai/assets/js/12.73730dda.js"><link rel="prefetch" href="/mayunhai/assets/js/13.4154dc6e.js"><link rel="prefetch" href="/mayunhai/assets/js/2.d675d9e4.js"><link rel="prefetch" href="/mayunhai/assets/js/3.d5f64981.js"><link rel="prefetch" href="/mayunhai/assets/js/4.6cbaa28a.js"><link rel="prefetch" href="/mayunhai/assets/js/5.ec925ab0.js"><link rel="prefetch" href="/mayunhai/assets/js/6.364b6d31.js"><link rel="prefetch" href="/mayunhai/assets/js/7.06d39c61.js"><link rel="prefetch" href="/mayunhai/assets/js/8.fe14d94f.js">
    <link rel="stylesheet" href="/mayunhai/assets/css/0.styles.1a7abee2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mayunhai/" class="home-link router-link-active"><!----> <span class="site-name">MaYunHai</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mayunhai/" class="nav-link">首页</a></div><div class="nav-item"><a href="/mayunhai/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com//mayunhai/mayunhai" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/mayunhai/" class="nav-link">首页</a></div><div class="nav-item"><a href="/mayunhai/blog/" class="nav-link router-link-active">Blog</a></div> <a href="https://github.com//mayunhai/mayunhai" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Blog</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/mayunhai/blog/" class="sidebar-link">名词解释</a></li><li><a href="/mayunhai/blog/CSS.html" class="sidebar-link">CSS</a></li><li><a href="/mayunhai/blog/HTML.html" class="sidebar-link">HTML</a></li><li><a href="/mayunhai/blog/Javascript.html" class="active sidebar-link">Javascript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#web前端开发十个常用方法" class="sidebar-link">web前端开发十个常用方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_1-数组去重" class="sidebar-link">1. 数组去重</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_2-去抖函数" class="sidebar-link">2. 去抖函数</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_3-格式化时间戳" class="sidebar-link">3. 格式化时间戳</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_4-千分号格式化数字" class="sidebar-link">4. 千分号格式化数字</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_5-克隆一个对象或者数组-深拷贝" class="sidebar-link">5. 克隆一个对象或者数组(深拷贝)</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_6-计算字符串相对长度" class="sidebar-link">6. 计算字符串相对长度</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_7-相除" class="sidebar-link">7. 相除</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_8-对象拼接url传参字符串" class="sidebar-link">8. 对象拼接URL传参字符串</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_9-获取url参数" class="sidebar-link">9. 获取URL参数</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_10-垂直滚动" class="sidebar-link">10. 垂直滚动</a></li></ul></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#vue十个需要注意的细节" class="sidebar-link">VUE十个需要注意的细节</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_1-v-if-v-show" class="sidebar-link">1. v-if &amp;&amp; v-show</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_2-deep" class="sidebar-link">2. deep</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_3-v-bind" class="sidebar-link">3. v-bind</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_4-子父组件通信" class="sidebar-link">4. 子父组件通信</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_5-computed-watch-深拷贝" class="sidebar-link">5. computed &amp;&amp; watch 深拷贝</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_6-vue-router" class="sidebar-link">6. Vue Router</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_7-vuex" class="sidebar-link">7. Vuex</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_8-nexttick-v-cloak" class="sidebar-link">8. nextTick &amp;&amp; v-cloak</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_9-v-text-v-html" class="sidebar-link">9. v-text &amp;&amp; v-html</a></li><li class="sidebar-sub-header"><a href="/mayunhai/blog/Javascript.html#_10-set" class="sidebar-link">10. set</a></li></ul></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript"><a href="#javascript" aria-hidden="true" class="header-anchor">#</a> Javascript</h1> <h2 id="web前端开发十个常用方法"><a href="#web前端开发十个常用方法" aria-hidden="true" class="header-anchor">#</a> web前端开发十个常用方法</h2> <p>本篇文章主要总结web前端开发过程当中一些相对比较细节的常用方法
<strong>（以下方法多使用ES6语法，若要使用需根据项目需求考虑兼容性问题）</strong></p> <h3 id="_1-数组去重"><a href="#_1-数组去重" aria-hidden="true" class="header-anchor">#</a> 1. 数组去重</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">uniqueArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token keyword">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：数组去重是一种比较常见的计算需求，方法也有很多种，这种算是利用ES6语法中Set对象比较优雅的一种,ES5其实也很简单提供一个思路：首选遍历然后利用 <code>.indexOf()</code> 去判断是否存在新的数组里面，如果不存在则插入新的数组即可</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">uniqueArr</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//输出[1, 2, 3, 4]</span>
</code></pre></div><h3 id="_2-去抖函数"><a href="#_2-去抖函数" aria-hidden="true" class="header-anchor">#</a> 2. 去抖函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">,</span> args<span class="token punctuation">,</span> context<span class="token punctuation">,</span> timestamp<span class="token punctuation">,</span> result
  <span class="token keyword">const</span> <span class="token function-variable function">later</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 据上一次触发时间间隔</span>
    <span class="token keyword">const</span> last <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> timestamp
    <span class="token comment">// 上次被包装函数被调用时间间隔last小于设定时间间隔wait</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>last <span class="token operator">&lt;</span> wait <span class="token operator">&amp;&amp;</span> last  <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> wait <span class="token operator">-</span> last<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token comment">// 如果设定为immediate===true，因为开始边界已经调用过了此处无需调用</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context <span class="token operator">=</span> <span class="token keyword">this</span>
    timestamp <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> callNow <span class="token operator">=</span> immediate <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>timeout
    <span class="token comment">// 如果延时不存在，重新设定延时</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>later<span class="token punctuation">,</span> wait<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> func<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
      context <span class="token operator">=</span> args <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：在规定延迟内连续触发只执行一次，如果第三个参数传true则在最开始就触发。去抖函数其实在很多UI中模糊远程查询都有集成，在拥有echart等(canvas或SVG图表插件)自适应页面中 window.addEventListener('resize', function)配合抖动函数在改变窗口大小时候对图表进行重绘会比较合适，有效减少触发重绘次数，保证良好用户体验</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;test&quot;</span>测试<span class="token operator">&lt;</span><span class="token operator">/</span>button
<span class="token operator">&lt;</span>script
  <span class="token keyword">const</span> Hanlder <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'触发成功'</span><span class="token punctuation">)</span> <span class="token comment">//连续点击按钮，在控制台即可看到效果</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> Hanlder<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script
</code></pre></div><h3 id="_3-格式化时间戳"><a href="#_3-格式化时间戳" aria-hidden="true" class="header-anchor">#</a> 3. 格式化时间戳</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> cFormat<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> format <span class="token operator">=</span> cFormat <span class="token operator">||</span> <span class="token string">'{y}-{m}-{d} {h}:{i}:{s}'</span>
  <span class="token keyword">let</span> date
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> time <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    date <span class="token operator">=</span> time
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">''</span> <span class="token operator">+</span> time<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">)</span> time <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span>
    date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> formatObj <span class="token operator">=</span> <span class="token punctuation">{</span>
    y<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    m<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    d<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    h<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    i<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    s<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    a<span class="token punctuation">:</span> date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> time_str <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/{(y|m|d|h|i|s|a)+}/g</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>result<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> formatObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'一'</span><span class="token punctuation">,</span> <span class="token string">'二'</span><span class="token punctuation">,</span> <span class="token string">'三'</span><span class="token punctuation">,</span> <span class="token string">'四'</span><span class="token punctuation">,</span> <span class="token string">'五'</span><span class="token punctuation">,</span> <span class="token string">'六'</span><span class="token punctuation">,</span> <span class="token string">'日'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>length  <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> value <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      value <span class="token operator">=</span> <span class="token string">'0'</span> <span class="token operator">+</span> value
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value <span class="token operator">||</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> time_str
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：轻轻松松把时间戳或者时间日期对象转化成自己想要输出的格式，可以减少服务器运算同是若是时间输出格式变更需求无需更改后端，前端修改即可，或许这点计算并不算什么，但是积羽沉舟</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//以'{y}-{m}-{d} {h}:{i}:{s}'格式化的当前时间</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseTime</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment">//以'{y}年{m}月{d}日 {h}时{i}分{s}秒'格式化的昨天时间</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseTime</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token string">'{y}年{m}月{d}日 {h}时{i}分{s}秒'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre></div><h3 id="_4-千分号格式化数字"><a href="#_4-千分号格式化数字" aria-hidden="true" class="header-anchor">#</a> 4. 千分号格式化数字</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fomatNumber</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  n <span class="token operator">=</span> n <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> n <span class="token operator">&lt;=</span> <span class="token number">20</span> <span class="token operator">?</span> n <span class="token punctuation">:</span> <span class="token number">2</span>
  s <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/[^\d\.-]/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span>
  <span class="token keyword">var</span> l <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  r <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  t <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">.</span>length i<span class="token operator">++</span><span class="token punctuation">)</span>
    t <span class="token operator">+=</span> l<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">!=</span> l<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token string">&quot;,&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span>
    <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> r
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：把过长的数字尤其是金额用千分号隔开，方便用户能够更快的识别数字金额大小</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fomatNumber（<span class="token number">23123.123</span>）<span class="token punctuation">)</span> <span class="token comment">//23,123.12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fomatNumber（<span class="token number">23123.123</span><span class="token punctuation">,</span> <span class="token number">0</span>）<span class="token punctuation">)</span> <span class="token comment">//123,123</span>
</code></pre></div><h3 id="_5-克隆一个对象或者数组-深拷贝"><a href="#_5-克隆一个对象或者数组-深拷贝" aria-hidden="true" class="header-anchor">#</a> 5. 克隆一个对象或者数组(深拷贝)</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> source <span class="token operator">==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> targetObj <span class="token operator">=</span> source<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>keys<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        targetObj<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        targetObj<span class="token punctuation">[</span>keys<span class="token punctuation">]</span> <span class="token operator">=</span> source<span class="token punctuation">[</span>keys<span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> targetObj
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：这个方法就是克隆一个对象或者数组，在开发当中接口返回的数据往往并不是特别理想，在需要对接口数据做处理运算的时候克隆往往是一个经常可以用的到的方法</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> arrClone <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token keyword">const</span> objClone <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">//[1, 2, 3, 4, 6]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">//{a: 6, b: 2, c: 3}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrClone<span class="token punctuation">)</span> <span class="token comment">//[1, 2, 3, 4]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objClone<span class="token punctuation">)</span> <span class="token comment">//{a: 1, b: 2, c: 3}</span>
</code></pre></div><h3 id="_6-计算字符串相对长度"><a href="#_6-计算字符串相对长度" aria-hidden="true" class="header-anchor">#</a> 6. 计算字符串相对长度</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getByteLen</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> len <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span> i <span class="token operator">&lt;</span> val<span class="token punctuation">.</span>length i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[^\x00-\xff]/ig</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>val<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'A'</span> <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token string">'Z'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      len <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> len <span class="token operator">+=</span> <span class="token number">0.5</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：这个方法就是把所有中文字符算成1，其他字符串计算为0.5，然后向下取整（这里我们可以延伸一个有趣的问题 Math.floor和parseInt()的区别 有兴趣的小伙伴可以试试 Math.floor(-1.5)、parseInt(-1.5)、parseInt(1111,2)）。看起来毫无意义但是在某些特殊场景还是很有必要，比如遍历一个未知的表格时候，对于表头的长度我们无法控制（接口或者计算返回）的情况下对于过长表头我们不想出现换行以及省略号的形式的时候，可以用次方法计算字符串长度然后乘以一个值来定义table-column的长度</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getByteLen</span><span class="token punctuation">(</span><span class="token number">1231231231231</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getByteLen</span><span class="token punctuation">(</span><span class="token string">'1231231231231'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getByteLen</span><span class="token punctuation">(</span><span class="token string">'asdasdasdasda'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//6</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getByteLen</span><span class="token punctuation">(</span><span class="token string">'我就想测试一下'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//7</span>
</code></pre></div><h3 id="_7-相除"><a href="#_7-相除" aria-hidden="true" class="header-anchor">#</a> 7. 相除</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>a<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>b <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span> <span class="token comment">//这里当a或者b不存在时默认输出为0，可根据需求自行修改</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      a <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
      b <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span> <span class="token comment">//这里当分母为0时候默认输出为0了，可根据需求自行修改</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> res <span class="token operator">=</span> a <span class="token operator">/</span> b
        <span class="token keyword">return</span> res
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>运用场景：需要计算两个值相除的值，对于同比环比也可以根据业务需求进行类似封装</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//输出0.5</span>
</code></pre></div><h3 id="_8-对象拼接url传参字符串"><a href="#_8-对象拼接url传参字符串" aria-hidden="true" class="header-anchor">#</a> 8. 对象拼接URL传参字符串</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">param</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>json<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>json<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> undefined<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
      <span class="token keyword">return</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span>
        <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>json<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>运用场景：把对象转化成GET传参url可用参数字符串，大部分ajax库都有封装，特殊情况下使用</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">'mayunhai'</span><span class="token punctuation">,</span>
  sex<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">param</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//id=1&amp;name=mayunhai&amp;sex=1</span>
</code></pre></div><h3 id="_9-获取url参数"><a href="#_9-获取url参数" aria-hidden="true" class="header-anchor">#</a> 9. 获取URL参数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">param2Obj</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> search <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>search<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;'</span> <span class="token operator">+</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>search<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&quot;/g</span><span class="token punctuation">,</span> <span class="token string">'\\&quot;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&amp;/g</span><span class="token punctuation">,</span> '<span class="token string">&quot;,&quot;</span><span class="token string">').replace(/=/g, '</span><span class="token string">&quot;:&quot;</span><span class="token string">') + '</span>&quot;<span class="token punctuation">}</span>'<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：用户把url中GET传参的参数转化成对象方便使用的场景，不过目前主流框架路由都有相对于的方法可以得到一样的效果</p> <p>例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'www.tuniu.com?id=1231&amp;name=mayunhai&amp;sex=1'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">param2Obj</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//{id: &quot;1231&quot;, name: &quot;mayunhai&quot;, sex: &quot;1&quot;}</span>
</code></pre></div><h3 id="_10-垂直滚动"><a href="#_10-垂直滚动" aria-hidden="true" class="header-anchor">#</a> 10. 垂直滚动</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">scrollTo</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> to<span class="token punctuation">,</span> duration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>duration <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
  <span class="token keyword">const</span> difference <span class="token operator">=</span> to <span class="token operator">-</span> element<span class="token punctuation">.</span>scrollTop
  <span class="token keyword">const</span> perTick <span class="token operator">=</span> difference <span class="token operator">/</span> <span class="token punctuation">(</span>duration <span class="token operator">/</span> <span class="token number">50</span><span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    element<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> element<span class="token punctuation">.</span>scrollTop <span class="token operator">+</span> perTick
    <span class="token keyword">if</span> <span class="token punctuation">(</span>element<span class="token punctuation">.</span>scrollTop <span class="token operator">===</span> to<span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token function">scrollTo</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> to<span class="token punctuation">,</span> duration <span class="token operator">-</span> <span class="token number">50</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运用场景：让一个拥有垂直滚动条的元素在duration时间内滚动到制定高度</p> <p>例如：</p> <div class="language-HTML extra-class"><pre class="language-html"><code>&lt;div id=&quot;test&quot; style=&quot;height:300px;overflow-y:auto;overflow-x:hidden&quot; <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">''</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    html <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">test&lt;br`</span></span>
    i<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html
  <span class="token function">scrollTo</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue十个需要注意的细节"><a href="#vue十个需要注意的细节" aria-hidden="true" class="header-anchor">#</a> VUE十个需要注意的细节</h2> <p>关于 VUE 和 React 哪家强的问题，就目前全球市场而言 React 的占比确实第一，不过 VUE 作为一个
<strong>个人项目</strong>
并且出现时间
<strong>晚于</strong>
React 的情况下 <code>github</code> 上星数可以超越 React 这样
<strong>大厂出品</strong>
依旧是让人震惊</p> <p>个人感觉 React 至今并没有什么神奇的地方时 VUE 所无法取代的，相反 VUE 的许多优点 React 却没有，就
<strong>中国的市场</strong>
个人觉得 VUE 和 React 应该算的上
<strong>平分秋色</strong>
，因为国内 web 项目对 <a href="/mayunhai/blog/#mvc-mvvm">MVVM</a> 的应用相比国外还是有一定差距的，所以再较晚的使用 JS 关于 <a href="/mayunhai/blog/#mvc-mvvm">MVVM</a> 框架有了更多的选择。招聘就可以看的出来，别的城市我不知道，但是就北京和南京来说，招聘信息上面 有需求 会 VUE 或者 React 的，甚至单招 VUE 熟手的，缺很少看到单招 React 的</p> <p>这里我想要给大家推荐一个快速学习上手使用 VUE 不错的一个开源项目后台管理系统</p> <p><a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener noreferrer">vue-element-admin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>这个项目目前看来在github上关于VUE的项目星数最多的一个，作者更新也非常活跃几乎每天都有新的 <code>commit</code> ,提出 <code>Issues</code> 基本上能够得到很快的回应，也非常荣幸可以成为该项目contributors之一，虽然提交的代码可能并不算特别重要，但是第一次提交的代码被合并的感觉真的是超级开心</p> <h3 id="_1-v-if-v-show"><a href="#_1-v-if-v-show" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/guide/conditional.html#v-show" target="_blank" rel="noopener noreferrer">1. v-if &amp;&amp; v-show<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li><p><code>v-if</code> 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建</p></li> <li><p><code>v-show</code> 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块</p></li></ul> <p>相比之下，<code>v-show</code> 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换</p> <p>一般来说，<code>v-if</code> 有更高的切换开销，而 <code>v-show</code> 有更高的初始渲染开销。因此，如果需要非常频繁地切换，则使用 <code>v-show</code> 较好；如果在运行时条件很少改变，则使用 <code>v-if</code> 较好</p> <h3 id="_2-deep"><a href="#_2-deep" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/api/#watch" target="_blank" rel="noopener noreferrer">2. deep<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>对于watch一个对象或者数组时候，若需要深度 <code>watcher</code> 则一定需要设置 <code>deep:true</code></p> <h3 id="_3-v-bind"><a href="#_3-v-bind" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/api/#v-bind" target="_blank" rel="noopener noreferrer">3. v-bind<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li><p><strong>简介：</strong>
只要
<strong>自己定义的</strong>
标签属性前面有 <code>:</code> 则后面引号里面写JS(变量、函数)，否则写字符串</p></li> <li><p><strong>作用：</strong>
(<code>:</code>是 <code>v-bind:</code> 的 <a href="/mayunhai/blog/#语法糖">语法糖</a> )</p></li></ul> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>很多人学习是从官方教程开始看的，在看到 <a href="https://cn.vuejs.org/v2/guide/class-and-style.html" target="_blank" rel="noopener noreferrer">Class 与 Style 绑定<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 这章节时候可能会有些误解，这里需要强调一点 <code>v-bind</code> 不仅仅用于style或者class属性。一切属性皆可用，这才是关键</p></div> <h3 id="_4-子父组件通信"><a href="#_4-子父组件通信" aria-hidden="true" class="header-anchor">#</a> 4. 子父组件通信</h3> <ul><li><p><strong>父向子：</strong>
用 <code>props</code> <code>&lt;my-component :name=&quot;name&quot;&gt;&lt;/my-component&gt;</code> or <code>&lt;my-component name=&quot;马云海&quot;&gt;&lt;/my-component&gt;</code>，这里需要注意一点在你提交的代码中，<code>prop</code> 的定义应该尽量详细，
<strong>至少需要指定其类型</strong>
，当然如果你非要偷懒 <code>props: ['status']</code> 这样定义，也没人可以咬你</p></li> <li><p><strong>子向父：</strong>
子组件使用 <a href="/mayunhai/blog/#api（接口）">API</a> <a href="https://cn.vuejs.org/v2/api/#vm-emit" target="_blank" rel="noopener noreferrer">vm.$emit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>this.$emit('res', val)</code> ，父组件使用 <code>&lt;my-component @res=&quot;fun&quot;&gt;&lt;/my-component&gt;</code> ,然后在 <code>methods</code> 里面定义 <code>fun(val){}</code> 来获取值</p></li></ul> <p>如果是在看不懂的可以百度 &quot;VUE子父&quot;网上有很多，不过我依旧觉得我这里介绍的是最精辟的，哈哈</p> <h3 id="_5-computed-watch-深拷贝"><a href="#_5-computed-watch-深拷贝" aria-hidden="true" class="header-anchor">#</a> 5. computed &amp;&amp; watch 深拷贝</h3> <p>当我们对某个对象或者数组 <code>computed</code> 或者 <code>watch</code> 时候，往往会遇到需要对此变量需要预处理的操作，这时候有可能涉及遍历，显然如果我们之间遍历原对象或者原数组明显不太合适，对于一维数组对象我们可以之间使用 <code>Object.assign([], arr)</code> or <code>Object.assign({}, obj)</code>来进行浅拷贝，但是对于一维以上的数组或者对象建议参考 <a href="/mayunhai/blog/Javascript.html#_5-克隆一个对象或者数组-深拷贝">深拷贝</a></p> <h3 id="_6-vue-router"><a href="#_6-vue-router" aria-hidden="true" class="header-anchor">#</a> <a href="https://router.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">6. Vue Router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li><p><strong>简介：</strong></p> <ul><li>一个配置文件，里面主要配置了SPA页面URL命名以及关联文件位置</li> <li>this.$router里面主要定义了路由的相关信息以及跳转等方法</li></ul></li> <li><p><strong>作用：</strong>
管理SPA所有虚拟页面 配置、跳转、跳转历史</p></li></ul> <h3 id="_7-vuex"><a href="#_7-vuex" aria-hidden="true" class="header-anchor">#</a> <a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">7. Vuex<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <ul><li><p><strong>简介：</strong>
Vuex特别像一个全局对象，他和全局对象的区别有以下两点</p> <ul><li>响应式，数据变动更新组件</li> <li>不能直接修改，修改唯一途径<code>mutation</code></li></ul></li> <li><p><strong>作用：</strong>
多页面(SPA虚拟页面)多组件数据及时同步、通信</p></li></ul> <h3 id="_8-nexttick-v-cloak"><a href="#_8-nexttick-v-cloak" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/api/#Vue-nextTick" target="_blank" rel="noopener noreferrer">8. nextTick &amp;&amp; v-cloak<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>这两个点和 生命周期 mounted有点类似，当然功能以及用法上面肯定有一定的区别</p> <ul><li><strong>nextTick</strong></li></ul> <p>这个算是VUE里面比较少见，但是很重要的接口。官方解释：在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后立即使用这个方法，获取更新后的 DOM。是不是感觉挺难理解的，所以这里我们直接上一个实例：</p> <div class="language-Javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//当我们使用element UI时候，这里的作用是当element 组件el-input渲染完成后获取焦点</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span>_ <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这里如果我们直接使用 <code>this.$refs.input.focus()</code> 是没用的不信你可以尝试一下，这里的很细节，若你不会并没人咬你，但是如果你注意这些细节会让用户体验发生质变</p> <ul><li><strong>v-cloak</strong></li></ul> <p>这里呢类似上面那个问题，一样的就算你不做处理程序不是跑步起来，只是体验不好。并且这里多半用于一些非 SPA 项目上面，有些MVC项目为了追逐潮流硬是在MVC基础上使用 VUE Element 等套件时候，会发现一个诡异的事情，就是网页在加载的最初会出现未被VUE渲染的代码比如 <span>{{name}}</span> ，直到VUE编译完成才会被编译成你想要它展示的变量比如：小王</p> <p><strong>官方说明：</strong></p> <p>这个指令保持在元素上直到关联实例结束编译。和 CSS 规则如 <code>[v-cloak] { display: none }</code> 一起用时，这个指令可以隐藏未编译的 Mustache 标签直到实例准备完毕</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">[v-cloak]</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>
  {{ message }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>不会显示，直到编译结束</p> <h3 id="_9-v-text-v-html"><a href="#_9-v-text-v-html" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/api/#v-text" target="_blank" rel="noopener noreferrer">9. v-text &amp;&amp; v-html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>这两个指令有一定的区别，第一个HTML标签不会被渲染，第二个不会被VUE渲染，用到的地方虽然不多但是真当你遇上不会的话还是很恼火的</p> <ul><li><strong>v-text</strong></li></ul> <p>这个和使用“Mustache”语法 (双大括号) 的文本插值是一样的，细心的小伙伴会发现如果试图通过  <span>{{html}}</span> 来给标签插入html代码是不会被解析的</p> <ul><li><strong>v-html</strong></li></ul> <p><strong>官方说明：</strong></p> <p>更新元素的 innerHTML 。注意：内容按普通 HTML 插入不会作为 Vue 模板进行编译 。如果试图使用 v-html 组合模板，可以重新考虑是否通过使用组件来替代</p> <p>本项目是基于 <a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vuepress<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 所以当我在这个当前页面需要输入<span>{{name}}</span>的时候，必须用下面这样的代码，如果直接使用写的话会被VUE编译，并提示报错找不到 <code>name</code> 变量</p> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>{{name}}<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_10-set"><a href="#_10-set" aria-hidden="true" class="header-anchor">#</a> <a href="https://cn.vuejs.org/v2/api/#Vue-set" target="_blank" rel="noopener noreferrer">10. set<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p><strong>官方说明：</strong></p> <p>向响应式对象中添加一个属性，并确保这个新属性同样是响应式的，且触发视图更新。它必须用于向响应式对象上添加新属性，因为 Vue 无法探测普通的新增属性 (比如 <code>this.myObject.newProperty = 'hi'</code> )</p> <div class="language-Javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$<span class="token keyword">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myObject<span class="token punctuation">,</span><span class="token string">'newProperty'</span><span class="token punctuation">,</span><span class="token string">'hi'</span><span class="token punctuation">)</span>
</code></pre></div><p>未完待续...</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com//mayunhai/mayunhai/edit/master/docs/blog/Javascript.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">3/28/2019, 8:39:10 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/mayunhai/blog/HTML.html" class="prev">
          HTML
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/mayunhai/assets/js/app.cf507822.js" defer></script><script src="/mayunhai/assets/js/9.95c99d07.js" defer></script>
  </body>
</html>
